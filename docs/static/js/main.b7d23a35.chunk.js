(this.webpackJsonpcovid19=this.webpackJsonpcovid19||[]).push([[0],{10:function(e,a,t){e.exports=t(17)},17:function(e,a,t){"use strict";t.r(a);var n,r=t(0),o=t.n(r),i=t(7),c=t.n(i),l=t(5),s=t(1);!function(e){e.hospitalizedWithSymptoms="ricoverati_con_sintomi",e.intensiveTherapy="terapia_intensiva",e.totalHospitalized="totale_ospedalizzati",e.homeInsulation="isolamento_domiciliare",e.totalCurrentlyPositive="totale_positivi",e.newCurrentlyPositive="variazione_totale_positivi",e.newPositive="nuovi_positivi",e.dischargedHealed="dimessi_guariti",e.deceased="deceduti",e.totalCases="totale_casi",e.swabs="tamponi"}(n||(n={}));var d=[{code:13,name:"Abruzzo",population:1311580,area:10831.84},{code:17,name:"Basilicata",population:562869,area:10073.32},{code:18,name:"Calabria",population:1947131,area:15221.9},{code:15,name:"Campania",population:5801692,area:13670.95},{code:8,name:"Emilia Romagna",population:4459477,area:22452.78},{code:6,name:"Friuli Venezia Giulia",population:1215220,area:7924.36},{code:12,name:"Lazio",population:5879082,area:17232.29},{code:7,name:"Liguria",population:1550640,area:5416.21},{code:3,name:"Lombardia",population:10060574,area:23863.65},{code:11,name:"Marche",population:1525271,area:9401.38},{code:14,name:"Molise",population:305617,area:4460.65},{code:1,name:"Piemonte",population:4356406,area:25387.07},{code:16,name:"Puglia",population:4029053,area:19540.9},{code:20,name:"Sardegna",population:1639591,area:24100.02},{code:19,name:"Sicilia",population:4999891,area:25832.39},{code:9,name:"Toscana",population:3729641,area:22987.04},{code:4,name:"Trentino Alto Adige",population:1072276,area:13605.5},{code:10,name:"Umbria",population:882015,area:8464.33},{code:2,name:"Valle d'Aosta",population:125666,area:3260.9},{code:5,name:"Veneto",population:4905854,area:18345.35}],m=d.reduce((function(e,a){return e[a.code]=a.name,e}),{}),u=function(e){var a=e.regions;return o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"text-left"},"Day"),a.map((function(e){return o.a.createElement("th",{key:e,className:"text-right"},m[e])})),o.a.createElement("th",{className:"text-right"},"Metrics")))},p=[{code:n.totalCases,name:"Total cases",description:"Total amount of positive cases.",composedBy:[]},{code:n.swabs,name:"Total swabs",description:"Cumulative number of tests performed. Some patients could be tested multiple times.",composedBy:[]},{code:n.deceased,name:"Deceased",description:"Cumulative number of deaths.",composedBy:[]},{code:n.totalCurrentlyPositive,name:"Total currently positive",description:"Total amount of current positive cases.",composedBy:[{code:n.totalHospitalized,name:"Total hospitalized",description:"Total hospitalised patients.",composedBy:[{code:n.hospitalizedWithSymptoms,name:"Hospitalized with symptoms",description:"Hospitalised patients with symptoms.",composedBy:[]},{code:n.intensiveTherapy,name:"Intensive therapy",description:"Intensive Care.",composedBy:[]}]},{code:n.homeInsulation,name:"Home insulation",description:"Number of people confined at home.",composedBy:[]}]},{code:n.newCurrentlyPositive,name:"New currently positive",description:"Amount of new current positive cases (current total amount of positive cases, minus the number of current positive cases of the previous day).",composedBy:[]},{code:n.newPositive,name:"New positive",description:"Amount of new positive cases (total amount of positive cases, minus the number of total positive cases of the previous day).",composedBy:[]},{code:n.dischargedHealed,name:"Discharged healed",description:"Cumulative amount of patients fully recovered",composedBy:[]}],g=p.reduce((function(e,a){return e[a.code]=a.name,e}),{}),v=function(e){var a=e.region,t=e.metrics,n=e.data;return o.a.createElement("td",{key:a},t.map((function(e){return o.a.createElement("div",{key:e,className:"text-right"},n[a][e].toLocaleString())})))},b=t(4),f=function(e,a){return function(t,n){var r=n.data.slice(0,10);"undefined"===typeof t[r]&&(t[r]=function(e,a){var t,n={},r=Object(b.a)(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n[o]={};var i,c=Object(b.a)(a);try{for(c.s();!(i=c.n()).done;){var l=i.value;n[o][l]=0}}catch(s){c.e(s)}finally{c.f()}}}catch(s){r.e(s)}finally{r.f()}return n}(e,a));var o,i=Object(b.a)(a);try{for(i.s();!(o=i.n()).done;){var c=o.value;t[r][n.codice_regione][c]+=n[c]}}catch(l){i.e(l)}finally{i.f()}return t}},A=function(e,a){var t=Object(r.useState)([]),n=Object(s.a)(t,2),o=n[0],i=n[1];return Object(r.useEffect)((function(){fetch("https://raw.githubusercontent.com/pcm-dpc/COVID-19/master/dati-json/dpc-covid19-ita-regioni.json").then((function(e){return e.json()})).then((function(e){return i(e)}))}),[i]),o.filter((function(a){return e.includes(a.codice_regione)})).reduce(f(e,a),{})},h=function(e){var a=e.regions,t=e.metrics,n=A(a,t),r=t.map((function(e){return o.a.createElement("div",{key:e},o.a.createElement("small",null,g[e]))})),i=Object.keys(n).sort().map((function(e){return o.a.createElement("tr",{key:e},o.a.createElement("td",{className:"text-left"},new Date(e).toLocaleDateString()),a.map((function(a){return o.a.createElement(v,{key:a,region:a,metrics:t,data:n[e]})})),o.a.createElement("td",{className:"text-right"},r))}));return o.a.createElement("tbody",null,i)},E=function(e){var a=e.metrics,t=e.regions;return o.a.createElement("table",{className:"table table-hover table-sm"},o.a.createElement(u,{regions:t}),o.a.createElement(h,{regions:t,metrics:a}))},y=t(8),k=t.n(y),C=[{r:150,g:0,b:0},{r:0,g:150,b:0},{r:0,g:0,b:150},{r:150,g:150,b:0},{r:150,g:0,b:150},{r:0,g:150,b:150},{r:250,g:0,b:0},{r:0,g:250,b:0},{r:0,g:0,b:250},{r:250,g:250,b:0},{r:250,g:0,b:250},{r:0,g:250,b:250}],B=function(e){var a=C[e%C.length];return"rgb(".concat(a.r,",").concat(a.g,",").concat(a.b,")")},N={};N[n.hospitalizedWithSymptoms]="rect",N[n.intensiveTherapy]="crossRot",N[n.totalHospitalized]="rect",N[n.homeInsulation]="triangle",N[n.totalCurrentlyPositive]="circle",N[n.newCurrentlyPositive]="rectRot",N[n.newPositive]="dash",N[n.dischargedHealed]="star",N[n.deceased]="cross",N[n.totalCases]="rectRounded",N[n.swabs]="line";var w=function(e,a,t){return function(e,a){var t=0;return a.reduce((function(a,n){return a.concat(e.map((function(e){return{metric:e,region:n,label:"".concat(m[n],", ").concat(g[e]),sequence:t++}})))}),[])}(a,t).map((function(a){return{label:a.label,fill:!1,borderColor:B(a.sequence),radius:5,pointBorderWidth:3,pointStyle:(t=a.metric,"undefined"===typeof N[t]?"circle":N[t]),data:Object.keys(e).map((function(t){return{t:new Date(t),y:e[t][a.region][a.metric]}}))};var t}),[])},H=function(e){var a=e.metrics,t=e.regions,n=o.a.createRef(),i=A(t,a);return Object(r.useEffect)((function(){var e=new k.a(n.current,{type:"line",options:{maintainAspectRatio:!1,legend:{align:"start",position:"left",labels:{usePointStyle:!0}},scales:{xAxes:[{type:"time"}],yAxes:[{ticks:{beginAtZero:!0}}]}},data:{datasets:w(i,a,t)}});return function(){e.destroy()}}),[n,i,a,t]),o.a.createElement("div",{style:{height:"800px"}},o.a.createElement("canvas",{ref:n}))},O=function(e){var a=e.display,t=e.value,n=e.label,r=e.setter;return o.a.createElement("li",{className:"nav-item"},o.a.createElement("label",{style:{cursor:"pointer"},onClick:function(){return r(t)},className:a===t?"nav-link m-0 active":"nav-link m-0"},n))},G=function(e){var a,t=e.metrics,n=e.regions,i=Object(r.useState)("chart"),c=Object(s.a)(i,2),l=c[0],d=c[1];switch(l){case"chart":a=o.a.createElement(H,{metrics:t,regions:n});break;case"table":a=o.a.createElement(E,{metrics:t,regions:n});break;default:a=o.a.createElement("div",null,"Unknown visualization type required")}return o.a.createElement("div",{className:"card text-center"},o.a.createElement("div",{className:"card-header"},o.a.createElement("ul",{className:"nav nav-tabs card-header-tabs"},o.a.createElement(O,{display:l,value:"chart",label:"Chart",setter:d}),o.a.createElement(O,{display:l,value:"table",label:"Table",setter:d}))),o.a.createElement("div",{className:"card-body"},a))},j=t(9),R=t.n(j),x=function(e){var a=e.region,t=e.checked,n=e.toggler,i=Object(r.useCallback)((function(e){return n(Number(e.target.value))}),[n]);return o.a.createElement("label",{className:"form-check dropdown-item mb-0"},o.a.createElement("input",{type:"checkbox",value:a.code,id:"region"+a.code,className:"form-check-input",checked:t,onChange:i}),o.a.createElement("span",{className:"form-check-label"},a.name))},D=function(e){var a=e.selected,t=e.toggler;return o.a.createElement("li",{className:"nav-item dropdown"},o.a.createElement("label",{className:"nav-link dropdown-toggle",id:"regionDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Regions"),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"regionDropdown"},o.a.createElement("div",{className:"SelectableRegionList list-group"},d.map((function(e){return o.a.createElement(x,{region:e,checked:a.includes(e.code),toggler:t,key:e.code})})))))},S=function(e){var a=e.metric,t=e.checked,n=e.toggler,i=Object(r.useCallback)((function(e){return n(e.target.value)}),[n]);return o.a.createElement("label",{className:"form-check dropdown-item mb-0"},o.a.createElement("input",{type:"checkbox",value:a.code,className:"form-check-input",checked:t,onChange:i}),o.a.createElement("span",{className:"form-check-label"},a.name))},I=function(e){var a=e.selected,t=e.toggler;return o.a.createElement("li",{className:"nav-item dropdown"},o.a.createElement("label",{className:"nav-link dropdown-toggle",id:"regionDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Metrics"),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"regionDropdown"},o.a.createElement("div",{className:"SelectableRegionList list-group"},p.map((function(e){return o.a.createElement(S,{metric:e,checked:a.includes(e.code),toggler:t,key:e.code})})))))},P=function(e){var a=e.selectedRegions,t=e.togglerRegions,n=e.selectedMetrics,r=e.togglerMetrics;return o.a.createElement("nav",{className:"navbar navbar-expand-lg fixed-top navbar-light bg-light"},o.a.createElement("span",{className:"navbar-brand"},o.a.createElement("img",{src:R.a,width:"32",height:"32",className:"d-inline-block align-top mr-1",alt:"COVID-19"}),"COVID-19 in Italy"),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},o.a.createElement("ul",{className:"navbar-nav mr-auto"},o.a.createElement(D,{selected:a,toggler:t}),o.a.createElement(I,{selected:n,toggler:r}))))},z=function(){var e=Object(r.useState)([n.totalCases]),a=Object(s.a)(e,2),t=a[0],i=a[1],c=Object(r.useState)([]),d=Object(s.a)(c,2),m=d[0],u=d[1],p=Object(r.useCallback)((function(e){i(t.includes(e)?t.filter((function(a){return a!==e})):[].concat(Object(l.a)(t),[e]))}),[t,i]),g=Object(r.useCallback)((function(e){u(m.includes(e)?m.filter((function(a){return a!==e})):[].concat(Object(l.a)(m),[e]))}),[m,u]);return o.a.createElement("div",{style:{paddingTop:"80px"}},o.a.createElement(P,{selectedRegions:m,togglerRegions:g,selectedMetrics:t,togglerMetrics:p}),o.a.createElement("div",{className:"covid19it m-3"},o.a.createElement(G,{metrics:t,regions:m})))};c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(z,null)),document.getElementById("root"))},9:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAE4UExURUxpcQAAAAAAAAUFBAAAAAAAAAAAAAAAAAAAAAAAACAGAAoKCvJlHvNqHPJnHuRYGvN8HvitOhYVExAQEOlcG9JOFK43CfRyHveYJfePIvJiHvFeHe9iG/aIIPR3H/zRevWDH7c+DMpGEtpTFqc1BsFED+2MIvNtHToQAOydK+puG9JZEq5RBpQrAzEbB8lPEtJuF40pA7NCCuB4G99rGQ4GAkktELdaCfzAVjkqFteFG6s8CaE2Bfy5SpM+A/7kqPW7U+d+G6tEBpE1A30iApsyBIEyAo1FEoZSHJtgHN+HGvvHaPWkLaJLDv3ajf3fm5dCCiQgGu9oG8JYDrhOC8laF61AB/7xzf7ruqxlHn5BFWlGG//24cdjG2gxC92vW3hpSb9rDPCpI2grCGcrB6N3KqN2KvWwSJfZ8GMAAAAKdFJOUwAO///HP8ID+6jRxAUPAAACkklEQVQ4y41Th3aiQBQ1DzVGRRFBxCg2QLFhN3YTNWos0fTetvz/J+wbiNlsO2fvOUzh3nnzZuY+i+UnbHYwYLdZ/oJdK+Gc6bST9Nbd3/k9JHvLXOP1tZFb9lC09+tyBzjXudbbILpaRQdvrdzaCY5PQXYAjnMtbfByenN9fdN/mWut3DHAzsd6gF7jRBtsoqc3Dw/X/dVmoJ00egDbGA7Cq77mc3R12u/3V9Hnpk89aQzBsc3v+KKiBjW2ezCPIubzA1YLqhXcZc/cwHlUPBSD96yv2z1AdLs+9j6oHhaPnMYmVhifV2JikPUvfO9Y+NmgqFbOh2BFgREgIoqsf6ZtWMRGm/lZUYwYIfB+YXhRZWIRse7y+/3fF4tv2LnqYiTGVC+GYLPYoaOjIBa5dblcrSCihYPbCBGcd8BuAbjKZiSmQFEUEq5mk7Q4KTBM5rINgCmUs5kMZcIUvE8ymewVJgHpcvYMYKrOyM9pJDIl/UydAmSy5bQp+FIQJGlCMXWqGIsVqTpDTSRJKHw1Bc4yD3RKEB5BYmo1hnwSPApCigbd2ALa+uUZnUoJ8CRViFkq0hMIqRR9dqnLmCQeU/GGPTSdqkNVIAKhCnXk6XBSGeMxbVCKJzm3ByUUrIlgDRRN0x43x5dLeFGYRFv3ht1EUjBNW6A9Hrc77NVlctX4WPk4TxSomRB+Qmjk+XjeeCx8bllJcvuhkDtsRkBxKMwllY753GiYUaBNFDqSHg82emifS7YDo621HVAKLGs1ZO5CiDsc1GrLQGlrOWLaUkDhvRy3b4DjvLyC/Idpie1HcjzBJ70Gknwi3hl9sr1ZOHk5riQSPJ9IKHE5/2vhvJdeaSwHEPK49Efp/Ufx/rP8fwBNHGFDvJki0wAAAFd6VFh0UmF3IHByb2ZpbGUgdHlwZSBpcHRjAAB4nOPyDAhxVigoyk/LzEnlUgADIwsuYwsTIxNLkxQDEyBEgDTDZAMjs1Qgy9jUyMTMxBzEB8uASKBKLgDqFxF08kI1lQAAAABJRU5ErkJggg=="}},[[10,1,2]]]);
//# sourceMappingURL=main.b7d23a35.chunk.js.map