(this.webpackJsonpcovid19=this.webpackJsonpcovid19||[]).push([[0],{16:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(7),i=a.n(c),l=a(5),s=a(1),m=[{code:13,name:"Abruzzo",population:1311580,area:10831.84},{code:17,name:"Basilicata",population:562869,area:10073.32},{code:18,name:"Calabria",population:1947131,area:15221.9},{code:15,name:"Campania",population:5801692,area:13670.95},{code:8,name:"Emilia Romagna",population:4459477,area:22452.78},{code:6,name:"Friuli Venezia Giulia",population:1215220,area:7924.36},{code:12,name:"Lazio",population:5879082,area:17232.29},{code:7,name:"Liguria",population:1550640,area:5416.21},{code:3,name:"Lombardia",population:10060574,area:23863.65},{code:11,name:"Marche",population:1525271,area:9401.38},{code:14,name:"Molise",population:305617,area:4460.65},{code:1,name:"Piemonte",population:4356406,area:25387.07},{code:16,name:"Puglia",population:4029053,area:19540.9},{code:20,name:"Sardegna",population:1639591,area:24100.02},{code:19,name:"Sicilia",population:4999891,area:25832.39},{code:9,name:"Toscana",population:3729641,area:22987.04},{code:4,name:"Trentino Alto Adige",population:1072276,area:13605.5},{code:10,name:"Umbria",population:882015,area:8464.33},{code:2,name:"Valle d'Aosta",population:125666,area:3260.9},{code:5,name:"Veneto",population:4905854,area:18345.35}],u=m.reduce((function(e,t){return e[t.code]=t.name,e}),{}),d=function(e){var t=e.region,a=e.checked,n=e.toggler,c=Object(r.useCallback)((function(e){return n(Number(e.target.value))}),[n]);return o.a.createElement("label",{className:"list-group-item list-group-item-action p-2 mb-0"},o.a.createElement("div",{className:"form-check"},o.a.createElement("input",{type:"checkbox",value:t.code,className:"form-check-input",checked:a,onChange:c}),o.a.createElement("strong",null,t.name),o.a.createElement("div",{className:a?"":"d-none"},o.a.createElement("small",null,o.a.createElement("em",null,"Population ",t.population.toLocaleString()),o.a.createElement("br",null),o.a.createElement("em",null,"Area ",t.area.toLocaleString()," Km",o.a.createElement("sup",null,"2"))))))},p=function(e){var t=e.selected,a=e.toggler;return o.a.createElement("div",{className:"SelectableRegionList list-group"},m.map((function(e){return o.a.createElement(d,{region:e,checked:t.includes(e.code),toggler:a,key:e.code})})))};!function(e){e.hospitalizedWithSymptoms="ricoverati_con_sintomi",e.intensiveTherapy="terapia_intensiva",e.totalHospitalized="totale_ospedalizzati",e.homeInsulation="isolamento_domiciliare",e.totalCurrentlyPositive="totale_positivi",e.newCurrentlyPositive="variazione_totale_positivi",e.newPositive="nuovi_positivi",e.dischargedHealed="dimessi_guariti",e.deceased="deceduti",e.totalCases="totale_casi",e.swabs="tamponi"}(n||(n={}));var v=[{code:n.totalCases,name:"Total cases",description:"Total amount of positive cases.",composedBy:[]},{code:n.swabs,name:"Total swabs",description:"Cumulative number of tests performed. Some patients could be tested multiple times.",composedBy:[]},{code:n.deceased,name:"Deceased",description:"Cumulative number of deaths.",composedBy:[]},{code:n.totalCurrentlyPositive,name:"Total currently positive",description:"Total amount of current positive cases.",composedBy:[{code:n.totalHospitalized,name:"Total hospitalized",description:"Total hospitalised patients.",composedBy:[{code:n.hospitalizedWithSymptoms,name:"Hospitalized with symptoms",description:"Hospitalised patients with symptoms.",composedBy:[]},{code:n.intensiveTherapy,name:"Intensive therapy",description:"Intensive Care.",composedBy:[]}]},{code:n.homeInsulation,name:"Home insulation",description:"Number of people confined at home.",composedBy:[]}]},{code:n.newCurrentlyPositive,name:"New currently positive",description:"Amount of new current positive cases (current total amount of positive cases, minus the number of current positive cases of the previous day).",composedBy:[]},{code:n.newPositive,name:"New positive",description:"Amount of new positive cases (total amount of positive cases, minus the number of total positive cases of the previous day).",composedBy:[]},{code:n.dischargedHealed,name:"Discharged healed",description:"Cumulative amount of patients fully recovered",composedBy:[]}],b=v.reduce((function(e,t){return e[t.code]=t.name,e}),{}),g=function(e){var t=e.metric,a=e.checked,n=e.toggler,c=Object(r.useCallback)((function(e){return n(e.target.value)}),[n]);return o.a.createElement("label",{className:"list-group-item list-group-item-action p-2 mb-0"},o.a.createElement("div",{className:"form-check"},o.a.createElement("input",{type:"checkbox",value:t.code,className:"form-check-input",checked:a,onChange:c}),o.a.createElement("strong",null,t.name),o.a.createElement("div",null,o.a.createElement("small",null,o.a.createElement("em",null,t.description)))))},f=function(e){var t=e.selected,a=e.toggler;return o.a.createElement("div",{className:"SelectableMetricList list-group"},v.map((function(e){return o.a.createElement(g,{metric:e,checked:t.includes(e.code),toggler:a,key:e.code})})))},h=function(e){var t=e.regions;return o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"text-left"},"Day"),t.map((function(e){return o.a.createElement("th",{key:e,className:"text-right"},u[e])})),o.a.createElement("th",{className:"text-right"},"Metrics")))},y=function(e){var t=e.region,a=e.metrics,n=e.data;return o.a.createElement("td",{key:t},a.map((function(e){return o.a.createElement("div",{key:e,className:"text-right"},n[t][e].toLocaleString())})))},E=a(4),k=function(e,t){return function(a,n){var r=n.data.slice(0,10);"undefined"===typeof a[r]&&(a[r]=function(e,t){var a,n={},r=Object(E.a)(e);try{for(r.s();!(a=r.n()).done;){var o=a.value;n[o]={};var c,i=Object(E.a)(t);try{for(i.s();!(c=i.n()).done;){var l=c.value;n[o][l]=0}}catch(s){i.e(s)}finally{i.f()}}}catch(s){r.e(s)}finally{r.f()}return n}(e,t));var o,c=Object(E.a)(t);try{for(c.s();!(o=c.n()).done;){var i=o.value;a[r][n.codice_regione][i]+=n[i]}}catch(l){c.e(l)}finally{c.f()}return a}},N=function(e,t){var a=Object(r.useState)([]),n=Object(s.a)(a,2),o=n[0],c=n[1];return Object(r.useEffect)((function(){fetch("https://raw.githubusercontent.com/pcm-dpc/COVID-19/master/dati-json/dpc-covid19-ita-regioni.json").then((function(e){return e.json()})).then((function(e){return c(e)}))}),[c]),o.filter((function(t){return e.includes(t.codice_regione)})).reduce(k(e,t),{})},C=function(e){var t=e.regions,a=e.metrics,n=N(t,a),r=a.map((function(e){return o.a.createElement("div",{key:e},o.a.createElement("small",null,b[e]))})),c=Object.keys(n).sort().map((function(e){return o.a.createElement("tr",{key:e},o.a.createElement("td",{className:"text-left"},new Date(e).toLocaleDateString()),t.map((function(t){return o.a.createElement(y,{key:t,region:t,metrics:a,data:n[e]})})),o.a.createElement("td",{className:"text-right"},r))}));return o.a.createElement("tbody",null,c)},w=function(e){var t=e.metrics,a=e.regions;return o.a.createElement("table",{className:"table table-hover table-sm"},o.a.createElement(h,{regions:a}),o.a.createElement(C,{regions:a,metrics:t}))},j=a(8),O=a.n(j),S=[{r:240,g:163,b:255},{r:0,g:117,b:220},{r:153,g:63,b:0},{r:76,g:0,b:92},{r:25,g:25,b:25},{r:0,g:92,b:49},{r:43,g:206,b:72},{r:255,g:204,b:153},{r:128,g:128,b:128},{r:148,g:255,b:181},{r:143,g:124,b:0},{r:157,g:204,b:0},{r:194,g:0,b:136},{r:0,g:51,b:128},{r:255,g:164,b:5},{r:255,g:168,b:187},{r:66,g:102,b:0},{r:255,g:0,b:16},{r:94,g:241,b:242},{r:0,g:153,b:143},{r:224,g:255,b:102},{r:116,g:10,b:255},{r:153,g:0,b:0},{r:255,g:255,b:128},{r:255,g:255,b:0},{r:255,g:80,b:5}],z={};z[n.hospitalizedWithSymptoms]="rect",z[n.intensiveTherapy]="crossRot",z[n.totalHospitalized]="rect",z[n.homeInsulation]="triangle",z[n.totalCurrentlyPositive]="circle",z[n.newCurrentlyPositive]="rectRot",z[n.newPositive]="dash",z[n.dischargedHealed]="star",z[n.deceased]="cross",z[n.totalCases]="rectRounded",z[n.swabs]="line";var B=function(e){if("undefined"===typeof S[e])return"rgb(0,0,0)";var t=S[e];return"rgb(".concat(t.r,",").concat(t.g,",").concat(t.b,")")},x=function(e,t,a){return function(e,t){return t.reduce((function(t,a){return t.concat(e.map((function(e){return{metric:e,region:a,label:"".concat(u[a],", ").concat(b[e])}})))}),[])}(t,a).map((function(t){return{label:t.label,fill:!1,borderColor:B(t.region),radius:5,pointBorderWidth:3,pointStyle:(a=t.metric,"undefined"===typeof z[a]?"circle":z[a]),data:Object.keys(e).map((function(a){return{t:new Date(a),y:e[a][t.region][t.metric]}}))};var a}),[])},P=function(e){var t=e.metrics,a=e.regions,n=o.a.createRef(),c=N(a,t);return Object(r.useEffect)((function(){var e=new O.a(n.current,{type:"line",options:{maintainAspectRatio:!1,legend:{labels:{usePointStyle:!0}},scales:{xAxes:[{type:"time"}]}},data:{datasets:x(c,t,a)}});return function(){e.destroy()}}),[n,c,t,a]),o.a.createElement("div",{style:{height:"800px"}},o.a.createElement("canvas",{ref:n}))},T=function(e){var t=e.display,a=e.value,n=e.label,r=e.setter;return o.a.createElement("li",{className:"nav-item"},o.a.createElement("label",{style:{cursor:"pointer"},onClick:function(){return r(a)},className:t===a?"nav-link m-0 active":"nav-link m-0"},n))},_=function(e){var t,a=e.metrics,n=e.regions,c=Object(r.useState)("chart"),i=Object(s.a)(c,2),l=i[0],m=i[1];switch(l){case"chart":t=o.a.createElement(P,{metrics:a,regions:n});break;case"table":t=o.a.createElement(w,{metrics:a,regions:n});break;default:t=o.a.createElement("div",null,"Unknown visualization type required")}return o.a.createElement("div",{className:"card text-center"},o.a.createElement("div",{className:"card-header"},o.a.createElement("ul",{className:"nav nav-tabs card-header-tabs"},o.a.createElement(T,{display:l,value:"chart",label:"Chart",setter:m}),o.a.createElement(T,{display:l,value:"table",label:"Table",setter:m}))),o.a.createElement("div",{className:"card-body"},t))},A=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)([]),i=Object(s.a)(c,2),m=i[0],u=i[1],d=Object(r.useCallback)((function(e){n(a.includes(e)?a.filter((function(t){return t!==e})):[].concat(Object(l.a)(a),[e]))}),[a,n]),v=Object(r.useCallback)((function(e){u(m.includes(e)?m.filter((function(t){return t!==e})):[].concat(Object(l.a)(m),[e]))}),[m,u]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"covid19it m-3"},o.a.createElement("h1",{className:"mb-3"},"COVID-19 status and history in Italy"),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-2"},o.a.createElement(p,{selected:m,toggler:v})),o.a.createElement("div",{className:"col-2"},o.a.createElement(f,{selected:a,toggler:d})),o.a.createElement("div",{className:"col-8"},o.a.createElement(_,{metrics:a,regions:m})))))};i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(A,null)),document.getElementById("root"))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.cbe62322.chunk.js.map